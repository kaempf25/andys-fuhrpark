<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>Fahrzeugpark Andy</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .vehicle-card {
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1rem;
            margin-bottom: 1rem;
            background: linear-gradient(to bottom right, #e0f2fe, #f3e8ff);
            position: relative;
        }
        .vehicle-img {
            width: 100%;
            height: 160px;
            object-fit: cover;
            border-radius: 0.375rem;
            background-color: #f3f4f6;
        }
        .header-gradient {
            background: linear-gradient(to right, #9333ea, #ec4899);
            color: white;
            padding: 1rem;
            border-radius: 0.375rem;
            margin-bottom: 1rem;
            text-align: center;
            font-weight: 800;
            font-size: 1.5rem;
        }
        .section-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 0.75rem;
        }
        .tuev-alert {
            position: absolute;
            top: 0.5rem;
            left: 0.5rem;
            background-color: #f59e0b;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.875rem;
        }
        .maintenance-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #22c55e;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.875rem;
        }
        .filter-select {
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            padding: 0.25rem 0.5rem;
            margin-bottom: 1rem;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #d1d5db;
            padding: 0.5rem;
            text-align: left;
        }
        th {
            background-color: #f3f4f6;
        }
        .check-complete {
            color: #16a34a;
        }
        .check-incomplete {
            color: #dc2626;
        }
        .vehicle-detail {
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }
        .vehicle-specs {
            margin-top: 0.5rem;
            font-size: 0.875rem;
        }
    </style>
</head>
<body class="bg-gray-100 p-4">
    <div class="container mx-auto max-w-4xl">
        <!-- Header -->
        <header>
            <h1 class="header-gradient">Fahrzeugpark Andy</h1>
            <div class="flex justify-between items-center flex-wrap">
                <div>
                    <label for="filter" class="font-semibold">Fahrzeugtyp:</label>
                    <select id="filter" class="filter-select">
                        <option value="Alle">Alle</option>
                        <option value="Auto">Auto</option>
                        <option value="Motorrad">Motorrad</option>
                        <option value="Roller">Roller</option>
                        <option value="Landmaschine">Landmaschine</option>
                        <option value="Anhänger">Anhänger</option>
                    </select>
                </div>
                <button id="history-btn" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 mb-2">
                    Wartungshistorie
                </button>
            </div>
        </header>

        <!-- Fahrzeuge -->
        <main>
            <h2 class="section-title mt-4">Fahrzeuge</h2>
            <div id="vehicles-container">
                <!-- Fahrzeuge werden hier eingefügt -->
            </div>

            <!-- Wartungsübersicht -->
            <div class="bg-white rounded-lg shadow-md p-4 mb-6 mt-8">
                <h2 class="section-title">Übersicht: Anstehende Wartungen</h2>
                <div class="mb-2">
                    <label for="year-select">Jahr:</label>
                    <select id="year-select" class="filter-select">
                        <option value="2025">2025</option>
                        <option value="2026">2026</option>
                        <option value="2027">2027</option>
                    </select>
                </div>
                <div class="overflow-x-auto">
                    <table>
                        <thead>
                            <tr>
                                <th>Fahrzeug</th>
                                <th>Ölwechsel</th>
                                <th>Zündkerzen</th>
                                <th>Bremsen</th>
                                <th>Reifen</th>
                                <th>TÜV</th>
                            </tr>
                        </thead>
                        <tbody id="maintenance-table">
                            <!-- Wartungsdaten werden hier eingefügt -->
                        </tbody>
                    </table>
                </div>
                <div class="mt-3 text-right">
                    <button id="add-task-btn" class="bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700">
                        Wartungsdienst hinzufügen
                    </button>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="mt-8 py-4 text-center text-gray-500 text-sm">
            <p>© 2025 Andys Fuhrpark - Alle Rechte vorbehalten</p>
            <p>Version 1.2.1</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Fahrzeugdaten
            const vehicles = [
                {
                    id: "anhaenger-2004",
                    name: "Anhänger (2004)",
                    type: "Anhänger",
                    technical: "Nutzlastanhänger Baujahr 2004",
                    imageUrl: "./anhaenger.jpg",
                    marketPrice: "200€",
                    garage: "Mumprow",
                    specs: {
                        Motor: "Ohne",
                        Leistung: "-",
                        Baujahr: "2004",
                        Besonderheiten: "Nutzlast bis 750kg"
                    }
                },
                {
                    id: "mercedes-w113",
                    name: "Mercedes W113 230 SL (Pagode)",
                    type: "Auto",
                    technical: "Klassischer 230 SL mit 2,3-Liter Reihen-Sechszylinder und ca. 150 PS.",
                    imageUrl: "./Mercedes w113.jpeg",
                    marketPrice: "80.000€",
                    garage: "Spexarder_Strasse",
                    specs: {
                        Motor: "2,3L Reihen-Sechszylinder",
                        Leistung: "150 PS",
                        Baujahr: "1963",
                        Besonderheiten: "Ikonisches Pagoden-Design, zeitloses Erscheinungsbild"
                    }
                },
                {
                    id: "mercedes-r107",
                    name: "Mercedes R107 560 SL",
                    type: "Auto",
                    technical: "Luxuriöses Cabriolet mit 5,6-Liter V8 und ca. 230 PS.",
                    imageUrl: "./Mercedes R107.jpeg",
                    marketPrice: "30.000€",
                    garage: "Sparkasse_Avenwedde",
                    specs: {
                        Motor: "5,6L V8",
                        Leistung: "230 PS",
                        Baujahr: "1986",
                        Besonderheiten: "Hochkomfort, klassisches Design, luxuriöse Ausstattung"
                    }
                },
                {
                    id: "mercedes-r129",
                    name: "Mercedes R129 SL",
                    type: "Auto",
                    technical: "Sportlicher Roadster mit modernster Technik und elegantem Design.",
                    imageUrl: "./Mercedes R129.jpeg",
                    marketPrice: "25.000€",
                    garage: "Spexarder_Strasse",
                    specs: {
                        Motor: "3,0L V6",
                        Leistung: "320 PS",
                        Baujahr: "1993",
                        Besonderheiten: "Hydraulisches Verdeck, automatischer Überrollbügel"
                    }
                },
                {
                    id: "mercedes-clk",
                    name: "Mercedes CLK Cabrio",
                    type: "Auto",
                    technical: "Elegantes Cabriolet mit sportlichem Charakter.",
                    imageUrl: "./Mercedes CLK.jpeg",
                    marketPrice: "12.000€",
                    garage: "Sparkasse_Avenwedde",
                    specs: {
                        Motor: "3,2L V6",
                        Leistung: "198 PS",
                        Baujahr: "2005",
                        Besonderheiten: "Elektrisches Verdeck, Lederausstattung"
                    }
                },
                {
                    id: "vw-t6",
                    name: "VW T6 Multivan",
                    type: "Auto",
                    technical: "Vielseitiger Transporter mit Wohnmobilausstattung.",
                    imageUrl: "./VW T6.jpeg",
                    marketPrice: "18.000€",
                    garage: "Mumprow",
                    specs: {
                        Motor: "2,0L TDI",
                        Leistung: "150 PS",
                        Baujahr: "2019",
                        Besonderheiten: "Campingausbau, Aufstelldach, Küche"
                    }
                },
                {
                    id: "man-traktor-201",
                    name: "MAN Traktor 201",
                    type: "Landmaschine",
                    technical: "Klassischer Traktor für Feldarbeiten und leichte Transportaufgaben.",
                    imageUrl: "./MAN Traktor.jpeg",
                    marketPrice: "4.500€",
                    garage: "Amrumweg",
                    specs: {
                        Motor: "2,8L Diesel",
                        Leistung: "28 PS",
                        Baujahr: "1963",
                        Besonderheiten: "Restaurierter Zustand, Originalteile"
                    }
                }
            ];

            // Wartungstasks
            const maintenanceTasks = [
                "Ölwechsel", 
                "Zündkerzen prüfen", 
                "Bremsen kontrollieren", 
                "Reifendruck prüfen"
            ];

            // DOM-Elemente
            const vehiclesContainer = document.getElementById('vehicles-container');
            const maintenanceTable = document.getElementById('maintenance-table');
            const filterSelect = document.getElementById('filter');
            const yearSelect = document.getElementById('year-select');

            // Fahrzeuge anzeigen
            function displayVehicles(vehiclesToShow) {
                vehiclesContainer.innerHTML = '';
                if(vehiclesToShow.length === 0) {
                    vehiclesContainer.innerHTML = '<p class="text-center p-4">Keine Fahrzeuge gefunden.</p>';
                    return;
                }
                
                vehiclesToShow.forEach(vehicle => {
                    const vehicleCard = document.createElement('div');
                    vehicleCard.className = 'vehicle-card';
                    
                    // Fallback für fehlgeschlagene Bild-Ladungen
                    const imgSrc = vehicle.imageUrl || 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24"><rect width="24" height="24" fill="%23f3f4f6"/><path fill="%23cccccc" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>';
                    
                    vehicleCard.innerHTML = `
                        <img src="${imgSrc}" alt="${vehicle.name}" class="vehicle-img" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\"><rect width=\"24\" height=\"24\" fill=\"%23f3f4f6\"/><path fill=\"%23cccccc\" d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/></svg>'">
                        <h3 class="text-xl font-bold mt-2 text-blue-800">${vehicle.name}</h3>
                        <p class="text-sm text-gray-700">${vehicle.technical}</p>
                        
                        <div class="vehicle-specs">
                            <p><strong>Motor:</strong> ${vehicle.specs.Motor || "N/A"}</p>
                            <p><strong>Leistung:</strong> ${vehicle.specs.Leistung || "N/A"}</p>
                            <p><strong>Baujahr:</strong> ${vehicle.specs.Baujahr || "N/A"}</p>
                            <p><strong>Besonderheiten:</strong> ${vehicle.specs.Besonderheiten || "N/A"}</p>
                        </div>
                        
                        <div class="mt-2 text-sm">
                            <p><strong>Marktpreis:</strong> ${vehicle.marketPrice}</p>
                            <p><strong>Garage:</strong> ${vehicle.garage.replace(/_/g, " ")}</p>
                        </div>
                        
                        <button class="maintenance-btn">Wartung</button>
                    `;
                    
                    vehiclesContainer.appendChild(vehicleCard);
                });
            }

            // Wartungstabelle anzeigen
            function displayMaintenanceTable() {
                maintenanceTable.innerHTML = '';
                
                vehicles.forEach(vehicle => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td class="font-medium">${vehicle.name}</td>
                        <td class="text-center"><span class="check-incomplete">✗</span></td>
                        <td class="text-center"><span class="check-incomplete">✗</span></td>
                        <td class="text-center"><span class="check-incomplete">✗</span></td>
                        <td class="text-center"><span class="check-incomplete">✗</span></td>
                        <td class="text-center"><span class="text-gray-400">Nicht eingetragen</span></td>
                    `;
                    maintenanceTable.appendChild(row);
                });
            }

            // Filter-Event
            filterSelect.addEventListener('change', function() {
                const selectedType = this.value;
                let filteredVehicles;
                
                if (selectedType === 'Alle') {
                    filteredVehicles = vehicles;
                } else {
                    filteredVehicles = vehicles.filter(vehicle => vehicle.type === selectedType);
                }
                
                displayVehicles(filteredVehicles);
            });

            // Jahr-Änderung
            yearSelect.addEventListener('change', function() {
                // Würde normalerweise die Wartungsdaten für das ausgewählte Jahr laden
                displayMaintenanceTable();
            });

            // Initiale Anzeige
            displayVehicles(vehicles);
            displayMaintenanceTable();
            
            // Debug-Info in der Konsole
            console.log("Fahrzeuge geladen:", vehicles.length);
        });
    </script>
</body>
</html>
